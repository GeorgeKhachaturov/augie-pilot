<% layout('layouts/boilerplate') %>
    <section class="dashboard">
        <div class="container">
            <h1 class="dashboard__create__task__title">Create New Task</h1>
            <p>Title limit: 50 characters. Description limit: 1000 characters.</p>
            <form action="/dashboard" method="POST" class="dashboard__create__task__form">
                <div>
                    <label for="title">Title</label>
                    <input type="text" id="title" name="title" class="dashboard__task__title" maxlength="50" required>
                </div>
                <div class="dashboard__desc">
                    <label for="description">Description</label>
                    <textarea name="description" id="description" maxlength="1000"></textarea>
                </div>

                <button class="dashboard__create__btn ">Create</button>
            </form>

            <h2>All Tasks</h2>
            <div class="dashboard__body">
                <% if(tasks.length===0) { %>
                    <h3>No current tasks!</h3>
                    <% } else { %>
                        <% tasks.forEach(task=> {%>
                            <div class="dashboard__task__card">
                                <p class="dashboard__task__title">
                                    <%= task.title %>
                                </p>
                                <p class="dashboard__task__desc">
                                    <%= task.description %>
                                </p>
                                <form action="/dashboard/<%= task._id %>/?_method=DELETE" method="POST">
                                    <button class="dashboard__delete__btn">X</button>
                                </form>
                            </div>
                            <% }) %>
                                <% } %>

            </div>

        </div>
    </section>